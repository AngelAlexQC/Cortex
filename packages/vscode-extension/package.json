{
  "name": "cortex-vscode",
  "version": "0.4.0",
  "displayName": "Cortex Protocol",
  "description": "The Universal Context Layer for AI. Privacy-first memory that works with GitHub Copilot, Claude, Cursor, and Continue.",
  "publisher": "EcuaByte",
  "author": {
    "name": "EcuaByte",
    "email": "hello@ecuabyte.com",
    "url": "https://github.com/EcuaByte-lat"
  },
  "license": "MIT",
  "icon": "icon.png",
  "galleryBanner": {
    "color": "#0F0F23",
    "theme": "dark"
  },
  "main": "./dist/extension.js",
  "repository": {
    "type": "git",
    "url": "https://github.com/EcuaByte-lat/Cortex"
  },
  "bugs": {
    "url": "https://github.com/EcuaByte-lat/Cortex/issues"
  },
  "homepage": "https://github.com/EcuaByte-lat/Cortex#readme",
  "engines": {
    "vscode": "^1.85.0"
  },
  "categories": [
    "AI",
    "Productivity",
    "Programming Languages",
    "Other"
  ],
  "keywords": [
    "ai",
    "memory",
    "context",
    "copilot",
    "claude",
    "cursor",
    "mcp",
    "assistant",
    "productivity",
    "developer-tools"
  ],
  "activationEvents": [
    "onStartupFinished"
  ],
  "devDependencies": {
    "@types/sql.js": "^1.4.9",
    "@types/vscode": "^1.85.0",
    "@vscode/vsce": "^3.7.1"
  },
  "dependencies": {
    "sql.js": "^1.13.0",
    "@cortex/shared": "workspace:*"
  },
  "contributes": {
    "taskDefinitions": [
      {
        "type": "cortex",
        "required": [
          "tool",
          "command"
        ],
        "properties": {
          "tool": {
            "type": "string",
            "description": "The tool/script name"
          },
          "category": {
            "type": "string",
            "description": "Tool category (npm, make, docker, script)"
          },
          "command": {
            "type": "string",
            "description": "The command to execute"
          }
        }
      }
    ],
    "languageModelTools": [
      {
        "name": "cortex_remember",
        "displayName": "Save Memory",
        "toolReferenceName": "cortex-remember",
        "icon": "$(brain)",
        "userDescription": "Save important context for future AI sessions",
        "modelDescription": "Saves information to the user's Cortex knowledge base. Use this when the user explicitly asks you to remember something, makes an important decision, establishes a project convention, or shares context that should persist across sessions. Types: 'fact' for project information, 'decision' for architectural choices, 'code' for patterns, 'config' for settings, 'note' for general notes.",
        "canBeReferencedInPrompt": true,
        "inputSchema": {
          "type": "object",
          "properties": {
            "content": {
              "type": "string",
              "description": "The content to remember"
            },
            "type": {
              "type": "string",
              "enum": [
                "fact",
                "decision",
                "code",
                "config",
                "note"
              ],
              "description": "Type of memory"
            },
            "tags": {
              "type": "array",
              "items": {
                "type": "string"
              },
              "description": "Optional tags"
            }
          },
          "required": [
            "content"
          ]
        }
      },
      {
        "name": "cortex_recall",
        "displayName": "Search Memories",
        "toolReferenceName": "cortex-recall",
        "icon": "$(search)",
        "userDescription": "Search saved project memories",
        "modelDescription": "Searches the user's Cortex knowledge base for relevant memories. Use this to find past decisions, project facts, code patterns, or any context the user has previously saved. Always try to recall before asking the user questions they may have already answered.",
        "canBeReferencedInPrompt": true,
        "inputSchema": {
          "type": "object",
          "properties": {
            "query": {
              "type": "string",
              "description": "Search query"
            },
            "type": {
              "type": "string",
              "enum": [
                "fact",
                "decision",
                "code",
                "config",
                "note"
              ],
              "description": "Filter by type (optional)"
            },
            "limit": {
              "type": "number",
              "description": "Max results (default: 5)"
            }
          },
          "required": [
            "query"
          ]
        }
      }
    ],
    "viewsContainers": {
      "activitybar": [
        {
          "id": "cortex-explorer",
          "title": "Cortex Memory",
          "icon": "resources/icon.svg"
        }
      ]
    },
    "views": {
      "cortex-explorer": [
        {
          "id": "cortex.memoryTree",
          "name": "Memories"
        },
        {
          "id": "cortex.toolsTree",
          "name": "Project Tools"
        }
      ]
    },
    "viewsWelcome": [
      {
        "view": "cortex.memoryTree",
        "contents": "No memories yet.\n[$(search) Scan Project](command:cortex.scanProject)\n[$(add) Add Memory](command:cortex.addMemory)\n\nCapture project context that persists across AI sessions.\n[Learn more](https://github.com/EcuaByte-lat/Cortex)"
      },
      {
        "view": "cortex.toolsTree",
        "contents": "No project tools detected.\n\nAdd a package.json, Makefile, or shell scripts to your project.\n[$(refresh) Refresh](command:cortex.refreshTools)"
      }
    ],
    "commands": [
      {
        "command": "cortex.addMemory",
        "title": "Cortex: Add Memory",
        "icon": "$(add)"
      },
      {
        "command": "cortex.searchMemories",
        "title": "Cortex: Search Memories",
        "icon": "$(search)"
      },
      {
        "command": "cortex.refreshTree",
        "title": "Cortex: Refresh",
        "icon": "$(refresh)"
      },
      {
        "command": "cortex.deleteMemory",
        "title": "Cortex: Delete Memory",
        "icon": "$(trash)"
      },
      {
        "command": "cortex.viewMemory",
        "title": "Cortex: View Memory Details",
        "icon": "$(eye)"
      },
      {
        "command": "cortex.runTool",
        "title": "Cortex: Run Tool",
        "icon": "$(play)"
      },
      {
        "command": "cortex.refreshTools",
        "title": "Cortex: Refresh Tools",
        "icon": "$(refresh)"
      },
      {
        "command": "cortex.toggleObserver",
        "title": "Cortex: Toggle Proactive Observer",
        "icon": "$(eye)"
      },
      {
        "command": "cortex.addSelectionAsMemory",
        "title": "Cortex: Save Selection as Memory",
        "icon": "$(add)"
      },
      {
        "command": "cortex.scanProject",
        "title": "Cortex: Scan Project",
        "icon": "$(sync)"
      },
      {
        "command": "cortex.scanWithAI",
        "title": "Cortex: AI-Powered Scan",
        "icon": "$(sparkle)",
        "category": "Cortex"
      }
    ],
    "keybindings": [
      {
        "command": "cortex.addMemory",
        "key": "ctrl+shift+m",
        "mac": "cmd+shift+m"
      },
      {
        "command": "cortex.searchMemories",
        "key": "ctrl+shift+alt+m",
        "mac": "cmd+shift+alt+m"
      },
      {
        "command": "cortex.addSelectionAsMemory",
        "key": "ctrl+shift+s",
        "mac": "cmd+shift+s",
        "when": "editorTextFocus && editorHasSelection"
      }
    ],
    "menus": {
      "view/title": [
        {
          "command": "cortex.addMemory",
          "when": "view == cortex.memoryTree",
          "group": "navigation"
        },
        {
          "command": "cortex.searchMemories",
          "when": "view == cortex.memoryTree",
          "group": "navigation"
        },
        {
          "command": "cortex.refreshTree",
          "when": "view == cortex.memoryTree",
          "group": "navigation"
        },
        {
          "command": "cortex.scanProject",
          "when": "view == cortex.memoryTree",
          "group": "navigation@1"
        },
        {
          "command": "cortex.scanWithAI",
          "when": "view == cortex.memoryTree",
          "group": "navigation@0"
        },
        {
          "command": "cortex.refreshTools",
          "when": "view == cortex.toolsTree",
          "group": "navigation"
        }
      ],
      "view/item/context": [
        {
          "command": "cortex.viewMemory",
          "when": "view == cortex.memoryTree && viewItem == memory",
          "group": "inline"
        },
        {
          "command": "cortex.deleteMemory",
          "when": "view == cortex.memoryTree && viewItem == memory",
          "group": "inline"
        },
        {
          "command": "cortex.runTool",
          "when": "view == cortex.toolsTree && viewItem == tool",
          "group": "inline"
        }
      ],
      "editor/context": [
        {
          "command": "cortex.addSelectionAsMemory",
          "when": "editorTextFocus && editorHasSelection",
          "group": "cortex@1"
        }
      ]
    },
    "configuration": {
      "title": "Cortex",
      "properties": {
        "cortex.proactiveCapture.enabled": {
          "type": "boolean",
          "default": true,
          "description": "Enable or disable proactive context capture (tagging, suggestions)."
        }
      }
    },
    "walkthroughs": [
      {
        "id": "cortex.gettingStarted",
        "title": "Getting Started with Cortex",
        "description": "Learn how to use persistent memory for AI coding assistants",
        "steps": [
          {
            "id": "cortex.welcome",
            "title": "Welcome to Cortex",
            "description": "Cortex gives your AI assistants persistent memory that survives across sessions.\n\nYour project context, decisions, and code patterns are remembered forever.\n\n[Open Cortex Panel](command:cortex.memoryTree.focus)",
            "media": {
              "markdown": "## üß† What is Cortex?\n\nCortex is a **persistent memory layer** for AI coding assistants.\n\n- üí° **Facts** - Project architecture and context\n- ‚úÖ **Decisions** - Why you chose specific patterns\n- üíª **Code** - Reusable snippets and patterns\n- ‚öôÔ∏è **Config** - Configuration details\n- üìù **Notes** - General observations"
            }
          },
          {
            "id": "cortex.addMemory",
            "title": "Add Your First Memory",
            "description": "Save important context that AI tools should remember.\n\n[Add Memory](command:cortex.addMemory)",
            "media": {
              "markdown": "## Adding Memories\n\n1. Click **Add Memory** or press `Ctrl+Shift+P`\n2. Enter the content you want to save\n3. Select the memory type\n4. Specify the source\n\nYour memory is now saved and will be available across all sessions!"
            },
            "completionEvents": [
              "onCommand:cortex.addMemory"
            ]
          },
          {
            "id": "cortex.search",
            "title": "Search Your Memories",
            "description": "Find any memory instantly with full-text search.\n\n[Search Memories](command:cortex.searchMemories)",
            "media": {
              "markdown": "## Searching Memories\n\nCortex includes **full-text search** across all your memories.\n\n- Search by content, source, or tags\n- Filter by memory type\n- Results are ranked by relevance"
            },
            "completionEvents": [
              "onCommand:cortex.searchMemories"
            ]
          },
          {
            "id": "cortex.mcp",
            "title": "Connect to AI Tools",
            "description": "Integrate Cortex with GitHub Copilot, Claude, and more using MCP.\n\n[Learn more about MCP](https://github.com/EcuaByte-lat/Cortex#mcp-integration)",
            "media": {
              "markdown": "## MCP Integration\n\nCortex includes an **MCP server** for integration with AI tools:\n\n### GitHub Copilot\n```\n@cortex search \"your query\"\n```\n\n### Claude Desktop\nAdd Cortex to your `claude_desktop_config.json` to enable memory access."
            }
          }
        ]
      }
    ]
  },
  "scripts": {
    "build": "bun run build.ts",
    "dev": "bun run build.ts --watch",
    "typecheck": "bunx tsc --noEmit",
    "package": "vsce package",
    "vscode:prepublish": "bun run build"
  }
}
